# 计算机网络 学习笔记

## part1 此部分来源于 youtube 作者“不良林”

![](2023-11-03-00-45-53.png)

**DNS**
![](2023-11-03-00-46-26.png)

1. 查浏览器的本地缓存
2. 查本地 host 文件
3. 电脑中配置的 DNS 服务器

##### step1: 本地

**TCP/IP**
| 层 | 添加的东西 | 细节 |
| ---- | --------------------------- | ---- |
| 应用 | | |
| 传输 | 源端口 / 目标端口 | |
| 网络 | 源 ip / 目标 ip | |
| 链路 | 源 MAC 地址 / 目标 MAC 地址 & 校验数据| |
| 物理 | | |

网络层找不到 ip 地址之后，就回去找网关（一般为路由器）
链路层提供 ARP 协议获得网关的 MAC 地址（一般为路由器 LAN 口）

##### step2: 交换机

| 层   | 操作                                      |
| ---- | ----------------------------------------- |
| 链路 | 查看目标 MAC 地址，把数据转发到对应的端口 |
| 物理 |                                           |

##### step3: 路由器

| 层   | 操作                                                          |
| ---- | ------------------------------------------------------------- |
| 网络 | 源 ip / 目标 ip                                               |
| 链路 | 发现目标 MAC 地址是自己，接收数据包。把链路层封装去掉往上层传 |
| 物理 |                                                               |

网络层看目标 ip 地址，发现自己附近找不到它，于是将数据包转发到公网其他路由器。

##### step4: DNS 服务器

##### ARP

&emsp;&emsp;ARP 协议的主要功能是解决 IP 地址和 MAC 地址之间的映射关系。当一台计算机需要发送数据包到另一台计算机时，它需要知道目标计算机的 MAC 地址才能成功发送。通过使用 ARP 协议，源计算机可以向局域网中的其他计算机发送一个 ARP 请求广播，询问某个 IP 地址对应的 MAC 地址。如果目标计算机在同一局域网中，并且处于活动状态，它将会响应 ARP 请求，并将自己的 MAC 地址发送回源计算机。

##### NAT

&emsp;&emsp;NAT（Network Address Translation）是一种网络通信技术，用于在不同网络之间转换 IP 地址。它主要用于将私有 IP 地址转换为公共 IP 地址或将公共 IP 地址转换为私有 IP 地址，以实现不同网络之间的连接和通信。它解决了 IPv4 地址短缺的问题，并提供了网络安全性。通过 NAT，多个主机可以共享单个公共 IP 地址，实现网络通信和连接。
